<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="GIn">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://Gin-lxy.github.io/2024/03/09/大二下ebu5213 internet protocols and networks/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="第一章 计算机网络和因特网Introduction of IP Networks数以亿计的计算设备被称为:主机(host)或端系统(end system)端系统通过通信链路（communication link）和分组交换机（packet switch）连接到一起。不同的链路能够以不同的速率传输数据，链路的传输速率（transmission rate）以比特&#x2F;秒（bit&#x2F;s或b">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://gin-lxy.github.io/2024/03/09/%E5%A4%A7%E4%BA%8C%E4%B8%8BEBU5213%20Internet%20protocols%20and%20networks/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="第一章 计算机网络和因特网Introduction of IP Networks数以亿计的计算设备被称为:主机(host)或端系统(end system)端系统通过通信链路（communication link）和分组交换机（packet switch）连接到一起。不同的链路能够以不同的速率传输数据，链路的传输速率（transmission rate）以比特&#x2F;秒（bit&#x2F;s或b">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302204352.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302214455.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302214819.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306151631.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306151646.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306152434.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306153449.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306155317.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306155327.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306155441.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306190226.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306190241.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306195922.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306195935.png">
<meta property="og:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306201112.png">
<meta property="og:image" content="https://gin-lxy.github.io/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306201112-1.png">
<meta property="og:image" content="https://gin-lxy.github.io/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306201112.png">
<meta property="og:image" content="https://gin-lxy.github.io/image.png">
<meta property="og:image" content="https://gin-lxy.github.io/image-1.png">
<meta property="og:image" content="https://gin-lxy.github.io/image-2.png">
<meta property="og:image" content="https://gin-lxy.github.io/image-3.png">
<meta property="og:image" content="https://gin-lxy.github.io/image-4.png">
<meta property="article:published_time" content="2024-03-09T09:57:31.834Z">
<meta property="article:modified_time" content="2024-03-09T09:56:41.924Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://gin-lxy.github.io/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302204352.png">
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/source/avatar.jpg" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/source/avatar.jpg">
    <meta name="theme-color" content="#8f7ff4">
    <link rel="shortcut icon" href="/source/avatar.jpg">
    <!--- Page Info-->
    
    <title>
        
        GIn&#39;s notebook
    </title>
    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">

    <!--- Font Part-->
    
    
    
    

    <!--- Inject Part-->
    
    <script id="hexo-configurations">
    window.config = {"hostname":"gin-lxy.github.io","root":"/","language":"en"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":true,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":3,"number":false,"expand":true,"init_open":true},"copyright":true,"lazyload":true,"recommendation":{"enable":false,"title":"�Ƽ��Ķ�","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#8f7ff4","secondary":"#8587a7"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":false,"percentage":true},"website_counter":{"url":"https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"open_graph":true,"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"GIn's notebook","subtitle":{"text":["The world is my oyster."],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":false,"links":{"github":"https://github.com/Gin-lxy# your GitHub URL","instagram":null,"zhihu":null,"twitter":null,"email":"lxy15998403010@163.com# your email"},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":false,"version":"9.3.0"}},"version":"2.5.0","navbar":{"auto_hide":false,"color":{"left":"#8f7ff4","right":"#8587a7","transparency":35},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"}},"search":{"enable":false,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2022/8/17 11:45:14"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
<div class="progress-bar-container">
    

    
        <span class="pjax-progress-bar"></span>
        <span class="swup-progress-icon">
            <i class="fa-solid fa-circle-notch fa-spin"></i>
        </span>
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container">
    
    <div class="navbar-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                GIn&#39;s notebook
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="" 
                                    href="/"  >
                                    
                                        
                                            <i class="fa-regular fa-house"></i>
                                        
                                        HOME
                                    
                                </a>
                                <!-- Submenu -->
                                
                            </li>
                    
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile drawer -->
    <div class="navbar-drawer w-full absolute top-0 left-0 bg-background-color">
        <ul class="drawer-navbar-list flex flex-col justify-start items-center">
            
                
                    <li class="drawer-navbar-item text-base my-1.5 flex justify-center items-center">
                        <a class="rounded-3xl py-1.5 px-5 hover:border hover:!text-primary active:!text-primary group " 
                        href="/"  >
                             
                                
                                    <i class="fa-regular fa-house"></i>
                                
                                HOME
                            
                        </a>
                    </li>
                    <!-- Submenu -->
                    
            

        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container">
    <div class="article-content-container">

        <div class="article-title">
            
                <h1 class="article-title-regular"></h1>
            
            </div>
            
                    
        
        
            <div class="article-header flex flex-row gap-2 items-center">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="/source/avatar.jpg">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">GIn</span>
                        
                            <span class="author-label ml-1.5 text-xs px-2 py-0.5 rounded-small text-third-text-color border border-shadow-color-1">Lv1</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2024-03-09 17:57:31</span>
        <span class="mobile">2024-03-09 17:57:31</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-03-09 17:56:41</span>
            <span class="mobile">2024-03-09 17:56:41</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body">
            <h1 id="第一章-计算机网络和因特网"><a href="#第一章-计算机网络和因特网" class="headerlink" title="第一章 计算机网络和因特网"></a>第一章 计算机网络和因特网</h1><h2 id="Introduction-of-IP-Networks"><a href="#Introduction-of-IP-Networks" class="headerlink" title="Introduction of IP Networks"></a>Introduction of IP Networks</h2><p>数以亿计的计算设备被称为:主机(host)或端系统(end system)<br>端系统通过通信链路（communication link）和分组交换机（packet switch）连接到一起。<br>不同的链路能够以不同的速率传输数据，链路的传输速率（transmission rate）以比特&#x2F;秒（bit&#x2F;s或bps）度量。<br>mesh of interconnected routers<br>当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。由此形成的信息包用计算机网络的术语来说称为分组（packet）。<br>packet-switching: hosts break application-layer messages into packets.</p>
<ul>
<li>forward packetsfrom one router to the next, across links on path from source to destination.</li>
<li>each packet transmitted at full link capacity.</li>
</ul>
<p>两种最著名的分组交换机是路由器（router）和链路层交换机（link-layer switch）。这两种类型的交换机朝着最终目的地转发分组。链路层交换机通常用于接入网中，而路由器通常用于网络核心中。从发送端系统到接收端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的路径（mute或path）。<br>各因特网服务提供商(（Internet Service Provider, ISP)为端系统提供了各种不同类型的网络接入，包括如线缆调制解调器或 DSL 那样的住宅宽带接入、高速局域网接入和移动无线接人。ISP也为内容提供者提供因特网接入服务，将Web 站点和视频服务器直接连入因特网。<br>TCP(Transmission Control Protocol，传输控制协议)和IP(Intemet Protocol，网际协议)是因特网中两个最为重要的协议。IP 协议定义了在路由器和端系统之间发送和接收的分组格式。因特网的主要协议统称为TCP&#x2F;IP。<br>协议（protocol）定义了在两个或多个通信实体之间交换的报文的格式和顺 序，以及报文发送和&#x2F;或接收一条报文或其他事件所采取的动作。<br>端系统也称为主机(host),主机有时又被进一步划分为两类：客户 （client）和服务器（server）<br>边缘路由器是端系统到任何其他 远程端系统的路径上的第一台路由器。<br>电缆调制解调器端接系统（Cable Modem Termination System, CMTS）与DSL网络的DSLAM具有类 似的功能，即将来自许多下行家庭中的电缆调制解调器发送的模拟信号转换回数字形式。电缆调制解调器将HFC网络划分为下行和上行两个信道。如同DSL,接入通常是不对称的，下行信道分配的传输速率通常比上行信道的高。<br>store and forward(存储转发): entire packet must arrive at router before it can be transmitted on next link.</p>
<h2 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h2><p>为了从源端系统向目的端系统发送一个报文(message)，源将长报文划分为较小的数据块，称之为分组 (packet)。在源和目的地之间，每个分组都通过通信链路和分组交换机（packet switch ） 传送。（交换机主要有两类：路由器（router）和链路层交换机（link-layer* switch）。<br>分组以等于该链路最大传输速率的速度传输通过通信链路。</p>
<h3 id="排队时延和分组丢失"><a href="#排队时延和分组丢失" class="headerlink" title="排队时延和分组丢失"></a>排队时延和分组丢失</h3><p>每台分组交换机有多条链路与之相连。对于每条相连的链路，该分组交换机具有一个<br>输出缓存（output buffer,也称为输出队列（output queue））,它用于存储路由器准备发往 那条链路的分组。该输出缓存在分组交换中起着重要的作用。如果到达的分组需要传输到 某条链路，但发现该链路正忙于传输其他分组，该到达分组必须在输出缓存中等待。因此，除了存储转发时延以外，分组还要承受输岀缓存的排队时延（queuing delay）。这些时<br>延是变化的，变化的程度取决于网络的拥塞程度。因为缓存空间的大小是有限的，一个到 达的分组可能发现该缓存已被其他等待传输的分组完全充满了。在此情况下，将出现分组<br>丢失（丢包）（packet loss）,到达的分组或已经排队的分组之一将被丢弃。<br>queuing and loss:</p>
<ul>
<li>if arrival rate (in bits) to link exceeds transmission rate of link for a period of time:</li>
<li>packets will queue, wait to be transmitted on link</li>
<li>packets can be dropped (lost) if memory (buffer) fills up<br> routing(路由): determines source-destination route taken by packets<br> forwarding(转发):move packets from router’s input to appropriate router output</li>
</ul>
<h3 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h3><p>在电路交换网络中，在端系统间通信会话期间，预留了端系统间沿路径通信所需要的 资源（缓存，链路传输速率）。在分组交换网络中，这些资源则不是预留的；会话的报文 按需使用这些资源，其后果可能是不得不等待（即排队）接入通信线路<br><strong>频分复用 时分复用?</strong></p>
<h3 id="Internet-structure-network-of-networks"><a href="#Internet-structure-network-of-networks" class="headerlink" title="Internet structure: network of networks"></a>Internet structure: network of networks</h3><ul>
<li>End systems connect to Internet via access ISPs (Internet Service Providers)<br>residential, company and university ISPs</li>
<li>Access ISPs in turn must be interconnected.<br>so that any two hosts can send packets to each other</li>
<li>Resulting network of networks is very complex<br>evolution was driven by economics and national policies</li>
<li>Let’s take a stepwise approach to describe current Internet structure<br>接入ISP被认为是客户（customer）,而全球传输ISP被认为是提供商(provider) 。<br>沿着这些相同路线，第三方公司 能够创建一个因特网交换点(Internet Exchange Point, TXP) , IXF是一个汇合点，多个ISP 能够在这里一起对等<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302204352.png"
                      alt="alt text"
                ></li>
</ul>
<h3 id="分组交换网中的时延概述"><a href="#分组交换网中的时延概述" class="headerlink" title="分组交换网中的时延概述"></a>分组交换网中的时延概述</h3><p>时延最为重要的是节点处理时延(nodal processing delay) 排队时延(queuing delay)、传输时延 (transmission delay)和传播时延(propagation delay),这些时延总体累加起来是节点总时 延(tolal nodal delay)。</p>
<h4 id="时延的类型"><a href="#时延的类型" class="headerlink" title="时延的类型"></a>时延的类型</h4><p>路由器A检查 该分组的首部以决定它的适当岀链路， 并将该分组导向该链路。在这个例子 中，对该分组的出链路是通向路由器 B的那条链路。仅当在该链路没有其 他分组正在传输并且没有其他分组排 在该队列前面时，才能在这条链路上<br>传输该分组；如果该链路当前正繁忙或有其他分组已经在该链路上排队，则新到达的分组 将加入排队。</p>
<p> (1)处理时延<br>检查分组首部和决定将该分组导向何处所需要的时间<br>dproc: nodal processing<br>check bit errors<br>determine output link<br>typically &lt; msec<br>(2)排队时延<br>在队列中，当分组在链路上等待传输时，它经受排队时延<br>dqueue: queueing delay<br>time waiting at output link for transmission<br>depends on congestion level of router<br>(3)传输时延<br>假定分组以先到先服务方式传输——这在分组交换网中是常见的方式，仅当所有已经 到达的分组被传输后，才能传输刚到达的分组。用厶比特表示该分组的长度，用R bps (即b&#x2F;s)表示从路由器A到路由器B的链路传输速率。<br>dtrans: transmission delay:<br>L: packet length (bits)<br>R: link bandwidth (bps)<br>dtrans &#x3D; L&#x2F;R<br>(4)传播时延<br>一旦一个比特被推向链路，该比特需要向路由器B传播。从该链路的起点到路由器B 传播所需要的时间是传播时延。<br>dprop: propagation delay:<br>d: length of physical link<br>s: propagation speed (~2x108 m&#x2F;sec)<br>dprop &#x3D; d&#x2F;s</p>
<p><strong>dtrans and dprop very different</strong><br>传输时延是路由器推出分组所需要的时间，它是分组长度和链路传输速率的函 数，而与两台路由器之间的距离无关。另一方面，传播时延是一个比特从一台路由器传播 到另一台路由器所需要的时间，它是两台路由器之间距离的函数，而与分组长度或链路传 输速率无关。</p>
<h3 id="排队时延和丢包"><a href="#排队时延和丢包" class="headerlink" title="排队时延和丢包"></a>排队时延和丢包</h3><h4 id="Packet-loss"><a href="#Packet-loss" class="headerlink" title="Packet loss"></a>Packet loss</h4><ul>
<li>queue (aka buffer) preceding link in buffer has finite capacity</li>
<li>packet arriving to full queue dropped (aka lost)</li>
<li>lost packet may be retransmitted by previous node, by source end system, or not at all</li>
</ul>
<h4 id="Throughput-吞吐量"><a href="#Throughput-吞吐量" class="headerlink" title="Throughput(吞吐量)"></a>Throughput(吞吐量)</h4><p>throughput:rate (bits&#x2F;time unit) at which bits transferred between sender&#x2F;receiver</p>
<ul>
<li>instantaneous:rate at given point in time</li>
<li>average:rate over longer period of time</li>
</ul>
<p>我们要问该服务器到客户的吞吐量是多少？<br>这台服务器不能以快于Rc bps的速率通过其链路注 入比特；这台路由器也不能以快于汕bps的速率转发比特。如果Rc &lt; Rs。则在给定的吞吐量Rs bps的情况下，由该服务器注入的比特将顺畅地通过路由器“流动”，并以速率Rs bps到达客户。<br>另一方面,如果Rc &lt;Rs，则该路由器将不能像接收速率那样快地转发比特。在这种情况下，比特将以速率Rc离开该路由器，从而得到端到端吞吐量Rc。(还要注意的是，如果比特继续以速率乩到达路由器，继续以乩离开路由器的话，在该路由器中等待传输给客户的积压比特将不断增加，这是一种最不希望的情况！）因此,对于这种简单的两链路网络，其吞吐量是min {Rc,Rs}这就是说，它是瓶颈链路（bottleneck link）的传输速率。</p>
<h2 id="Why-layering"><a href="#Why-layering" class="headerlink" title="Why layering?"></a>Why layering?</h2><p>dealing with complex systems:</p>
<ul>
<li>explicit structure allows identification, relationship of complex system’s pieces<br>layered reference modelfor discussion</li>
<li>modularization eases maintenance, updating of system<br>change of implementation of layer’sservice transparent to rest of system<br>e.g., change in gate procedure doesn’t affect rest of system<br>layering considered harmful?</li>
</ul>
<h2 id="TCP-IP-model-internet-model"><a href="#TCP-IP-model-internet-model" class="headerlink" title="TCP&#x2F;IP model (internet model)"></a>TCP&#x2F;IP model (internet model)</h2><p>TCP服务模型包括面向连接服务和可靠数据传输服务。</p>
<ul>
<li>application:supporting network applications<br>FTP, SMTP, HTTP</li>
<li>transport:process-process data transfer<br>TCP, UDP</li>
<li>network:routing of datagrams from source to destination<br>IP, routing protocols</li>
<li>link:data transfer between neighboring network elements<br>Ethernet, 802.111 (WiFi), PPP</li>
<li>physical:bits “on the wire”</li>
</ul>
<h2 id="ISO-OSI-reference-model"><a href="#ISO-OSI-reference-model" class="headerlink" title="ISO&#x2F;OSI reference model"></a>ISO&#x2F;OSI reference model</h2><p>ISO &#x3D; International Standards Office<br>OSI &#x3D; Open Systems Interconnection</p>
<ul>
<li>presentation:allow applications to interpret meaning of data, e.g., encryption, compression, machine-specific conventions</li>
<li>session: synchronization, checkpointing, recovery of data exchange</li>
<li>Internet stack “missing”these layers!<br>these services, if needed,must be implemented in application</li>
</ul>
<h2 id="Layering-and-headers"><a href="#Layering-and-headers" class="headerlink" title="Layering and headers"></a>Layering and headers</h2><p>Most layers of the TCP&#x2F;IP model are associated with a particular type of “header” or sometimes a “header and trailer”.<br>layer 3 (network) has a “network address” which identifies the host that should receive the data.<br>Layer 4 (transport) has a port that identifies which program should receive it.<br>At each lower layer a new header is added incorporating the headers underneath. A layer 2 packet has a layer 2 header but includes headers from layer 3 and 4.</p>
<h2 id="TCP-IP-layers"><a href="#TCP-IP-layers" class="headerlink" title="TCP&#x2F;IP layers"></a>TCP&#x2F;IP layers</h2><ul>
<li>Layer 7 –Application layer –this is the data for programs you use on your computer<br>HTTP (www) data, SMTP (sent emails), FTP (file transfer) and specific formats for games, torrent etc.</li>
<li>Layer 6 –Presentation layer<br>Related to character sets and presentation of data (unused in TCP&#x2F;IP or real Internet)</li>
<li>Layer 5 –Session layer<br>Related to whole lifetime of connection –is the connection real time (unused in TCP&#x2F;IP or real Internet)</li>
<li>Layer 4 –Transport layer –this is for the end-to-end connection between machines.<br>Information related to reliability<br>Information related to which program on machine sent&#x2F;receives data.</li>
<li>Layer 3 –Network (Internet) layer –this is to get the data the whole journey from its start computer to its end computer (Internet, between networks)<br>Address of computer on internet (IP address)<br>Checksum to see if data is corrupted</li>
<li>Layer 2 –Data link layer –this is to get the data to nearby computers (on same local network)<br>Media Access Control (MAC address) specific to individual computer (see later lectures)</li>
<li>Layer 1 –Physical layer (how bits 1s and 0s are actually transmitted)<br>Think of cables in the ground or radio waves in the air<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302214455.png"
                      alt="alt text"
                ></li>
</ul>
<h2 id="Devices-for-layers"><a href="#Devices-for-layers" class="headerlink" title="Devices for layers"></a>Devices for layers</h2><ul>
<li>Router<br>This is a layer 3 device –it reads a layer 3 address and works out which direction a packet should go.<br>It is typically more complex and adaptive than a switch.</li>
<li>Switch<br>This is a layer 2 device –it reads a layer 2 address and works out which nearby computer should get a message.<br>Typically simpler than a router.</li>
<li>Repeater<br>This is a layer 1 device –it strengthens or reconstructs a corrupted signal and carries on sending it<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240302214819.png"
                      alt="alt text"
                ></li>
</ul>
<h1 id="Application-Layer"><a href="#Application-Layer" class="headerlink" title="Application Layer"></a>Application Layer</h1><ul>
<li>This is covered in many other modules you will take.</li>
<li>This is the layer you (mostly) work with as a programmer.</li>
<li>At the application layer the “network” is abstracted away and you access a stream of data that arrives at a “socket”.</li>
<li>It is up to you to define the format of data your application writes and receives.</li>
<li>Different applications have different formats:<ul>
<li>HTTP (Hyptertexttransfer protocol) world-wide web</li>
<li>FTP (File transfer protocol) moving data</li>
<li>SMTP (Send Mail transfer protocol) sending email</li>
<li>IMAP (Internet message access protocol) receiving email</li>
</ul>
</li>
</ul>
<h2 id="Sockets-套接字"><a href="#Sockets-套接字" class="headerlink" title="Sockets(套接字)"></a>Sockets(套接字)</h2><p>套接字是同一台主机内应用层与运输层之间的接口。由于该套接字是建立网络应用程序的可编程接口，因此套接字也称为应用程序和网络之间的应用程序编程接口（Application Programming Interface, API）进程可类比于一座房子，而它的套接字可以类比于它的门。当一个进程想向 位于另外一台主机上的另一个进程发送报文时，它把报文推出该门（套接字）。该发送进程假定该门到另外一侧之间有运输的基础设施，该设施将把报文传送到目的进程的门口。 一旦该报文抵达目的主机，它通过接收进程的门（套接字）传递，然后接收进程对该报文进行处理。</p>
<ul>
<li>process sends&#x2F;receives messages to&#x2F;from its socket</li>
<li>socket analogous to door<ol>
<li>sending process shoves message out door</li>
<li>sending process relies on transport infrastructure on other side of door to deliver message to socket at receiving process</li>
</ol>
</li>
</ul>
<h2 id="Addressing-processes"><a href="#Addressing-processes" class="headerlink" title="Addressing processes"></a>Addressing processes</h2><p>在因特网中，主机由其IP地址(IP address)标识。。此时，我们只要知道IP地址是一个32比特的量且它能够唯一地标识该主机就够了。除了知道报文发送目的地的主机地址外，发送进程还必须指定运行在接收主机上的 接收进程(更具体地说，接收套接字)。因为一般而言一台主机能够运行许多网络应用,这些信息是需要的。目的地端口号(port number)用于这个目的。已经给流行的应用分配<br>了特定的端口号。</p>
<ul>
<li>to receive messages, process must have identifier</li>
<li>host device has unique 32-bit IP address</li>
<li>identifierincludes both IP addressand port numbersassociated with process on host.</li>
<li>example port numbers:<ul>
<li>HTTP server: 80</li>
<li>mail server: 25</li>
</ul>
</li>
<li>to send HTTP message to gaia.cs.umass.edu web server:<ul>
<li>IP address:128.119.245.12</li>
<li>port number:80</li>
</ul>
</li>
</ul>
<h2 id="4-different-addresses-in-TCP-IP"><a href="#4-different-addresses-in-TCP-IP" class="headerlink" title="4 different addresses in TCP&#x2F;IP"></a>4 different addresses in TCP&#x2F;IP</h2><ul>
<li>Physical address Layer 2<br>Also known as the link address, is the address of a node as defined by its LAN or WAN</li>
<li>Logical address Layer 3 (32-bit , IPv4 128-bit IPv6)<br>Logical (IP) addresses are for universal communications that are independent of underlying physical networks</li>
<li>Port address Layer 4 (16-bit)<br>Port addresses differentiate different processes</li>
<li>Application-specific address Layer 7<br>Some applications have user-friendly addresses that are designed for that specific application, such as email address, URL.</li>
</ul>
<h2 id="App-layer-protocol-defines"><a href="#App-layer-protocol-defines" class="headerlink" title="App-layer protocol defines"></a>App-layer protocol defines</h2><ul>
<li>types of messages exchanged,<br>e.g. request, response</li>
<li>message syntax:<br>what fields in messages &amp; how fields are delineated</li>
<li>message semantics<br>meaning of information in fields</li>
<li>rules for when and how processes send &amp; respond to messages</li>
<li>open protocols:<br>defined in RFCs (request for comments)<br>allows for interoperability<br>e.g., HTTP (web), SMTP (email)</li>
<li>proprietary protocols:<br>e.g., Skype</li>
</ul>
<h2 id="Session-Presentation-layers"><a href="#Session-Presentation-layers" class="headerlink" title="Session + Presentation layers"></a>Session + Presentation layers</h2><ul>
<li>Theoretical only –not implemented in the Internet</li>
<li>Session Layer (layer 5):<br>Takes care of a connection between two hosts for the lifetime of that connection<br>Authentication + authorisation (who is the user, what can they do)<br>In working Internet this is at the application layer.</li>
<li>Presentation Layer (layer 6):<br>Translates data for an application.<br>For example takes care of detail of character set used to encode string of characters.<br>In working Internet this is at the application layer</li>
</ul>
<h1 id="Transport-Layer"><a href="#Transport-Layer" class="headerlink" title="Transport Layer"></a>Transport Layer</h1><h2 id="Transport-services-and-protocols"><a href="#Transport-services-and-protocols" class="headerlink" title="Transport services and protocols"></a>Transport services and protocols</h2><ul>
<li>provide logical communicationbetween app processes running on different hosts</li>
<li>transport protocols run in end systems<br>  send side: breaks app messages into segments, passes to network layer<br>  rcv side: reassembles segments into messages, passes to app layer</li>
<li>more than one transport protocol available to apps<br>  Internet: TCP and UDP<br>  因特网为应用层提供了两种可用运输层协议:一种是 UDP （用户数据报协议），它为调用它的应用程序提供了一种不可靠unreliable、无连接的服务unordered delivery。另 一种是TCP （传输控制协议），它为调用它的应用程序提供了一种可靠的reliable、面向连接的服务in-order delivery<br> TCP:</li>
<li>congestion control</li>
<li>flow control</li>
<li>connection setup<br>UDP:</li>
<li>no-frills extension of “best-effort”IP</li>
</ul>
<h2 id="Transport-vs-network-layer"><a href="#Transport-vs-network-layer" class="headerlink" title="Transport vs. network layer:"></a>Transport vs. network layer:</h2><p>network layer:logical communication between hosts<br>transport layer:logical communication between processes<br>relies on, enhances, network layer services<br>应用层报文app messages&#x3D;信封上的字符<br>进程processes&#x3D;堂兄弟姐妹<br>hosts主机（又称为端系统）&#x3D;家庭<br>运输层协议transport protocol&#x3D;Ann和Bill<br>网络层协议network-layer protocol&#x3D;邮政服务（包括邮车）<br>运输层协议只工作在端系统中。在端系统中， 运输层协议将来自应用进程的报文移动到网络边缘（即网络层）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306151631.png"
                      alt="alt text"
                ></p>
<h2 id="可靠数据传输协议（reliable-data-transfer-protocol"><a href="#可靠数据传输协议（reliable-data-transfer-protocol" class="headerlink" title="可靠数据传输协议（reliable data transfer protocol)"></a>可靠数据传输协议（reliable data transfer protocol)</h2><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306151646.png"
                      alt="alt text"
                ><br>调用rdt_send()函数,上层可以调用数据传输 协议的发送方。它将要发送的数据交付给位于接收方的较高层。(这里rdt表示可靠数据传输协议，_send指示rdt的发送端正在被调用)在接收端，当分组从信道的接收端到达时，将调用rdt_rev() 。当rdt协议想要向较 高层交付数据时，将通过调用deliver_data()来完成。后面，我们将使用术语“分组”而不用运输层的“报文段”。<br>consider only unidirectional data transfer,but control info will flow on both directions!只考虑单向数据传输<br>use finite state machines (FSM) to specify sender, receiver<br>state: when in this “state” next state uniquely determined by next event</p>
<h2 id="rdt1-0-reliable-transfer-over-a-reliable-channel"><a href="#rdt1-0-reliable-transfer-over-a-reliable-channel" class="headerlink" title="rdt1.0: reliable transfer over a reliable channel"></a>rdt1.0: reliable transfer over a reliable channel</h2><p>我们考虑最简单的情况，即底层信道是完全可靠的。我们称该协议为rdt1.0<br>rdt的发送端只通过rdt_send(data)事件接受来自较高层的数据，产生一个包含该数据 的分组(经由make-pkt (data)动作)，并将分组发送到信道中。实际上，皿_send(data)事 件是由较高层应用的过程调用产生的(例如，rdcsend() ) 。<br>在接收端，rdt通过rdt_rcv( packet)事件从底层信道接收一个分组，从分组中取岀数据 (经由extract(packet, data)动作)，并将数据上传给较高层(通过deliver_data( data)动作)。 实际上，rdt_rcv( packet)事件是由较低层协议的过程调用产生的(例如，rdt_rcv() )<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306152434.png"
                      alt="alt text"
                ></p>
<h2 id="rdt2-0-channel-with-bit-errors"><a href="#rdt2-0-channel-with-bit-errors" class="headerlink" title="rdt2.0: channel with bit errors"></a>rdt2.0: channel with bit errors</h2><ul>
<li>underlying channel may flip bits in packet<br>checksum to detect bit errors</li>
<li>thequestion: how to recover from errors:<ul>
<li>acknowledgements (ACKs):receiver explicitly tells sender that pkt received OK</li>
<li>negative acknowledgements (NAKs):receiver explicitly tells sender that pkt had errors</li>
<li>sender retransmits pkt on receipt of NAK</li>
</ul>
</li>
<li>new mechanisms in rdt2.0(beyond rdt1.0):<br>error detection<br>feedback: control msgs (ACK,NAK) from receiver to sender</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306153449.png"
                      alt="alt text"
                ></p>
<p>rdt2.0的发送端有两个状态。在最左边的状态中，发送端协议正等待来自上层传下来<br>的数据。当rdt_send(data)事件岀现时，发送方将产生一个包含待发送数据的分组(sndp-kt),带有检验和，然后经由udt_send(sndpkt)操作发送该分组。在最右边的状态中，发送方协议等待来自接收方的 ACK或NAK分组。如果收到一个ACK分组，则发送方知道最近发送的分组已被正确接收，因此协议返回到等待来自上层的数据的状态。如果收到一个NAK分组，该协议重传上一个分组并等待接收 方为响应重传分组而回送的ACK和NAK。<br>当发送方处于等待ACK或NAK的状态时，它不能从上层获得更多的数据；这就是说，rdcsend()事件不可能岀现；仅当接收到ACK并离开该状态时才能发生这样的事件。因此，发送方将不会发送 一块新数据，除非发送方确信接收方已正确接收当前分组。由于这种行为，rdt2.0这样的协议被称为停等(stop-and-wait)协议。<br>stop and wait: sender sends one packet,then waits for receiver response</p>
<blockquote>
<p>what happens if ACK&#x2F;NAK corrupted?<br>sender doesn’t know what happened at receiver!<br>can’t just retransmit: possible duplicate</p>
</blockquote>
<blockquote>
<p>handling duplicates(冗余):<br>sender retransmits current pkt if ACK&#x2F;NAK corrupted<br>sender adds sequence number(seq) to each pkt<br>receiver discards (doesn’t deliver up) duplicate pkt<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306155317.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306155327.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306155441.png"
                      alt="alt text"
                ></p>
</blockquote>
<h2 id="rdt3-0-channels-with-errors-and-loss"><a href="#rdt3-0-channels-with-errors-and-loss" class="headerlink" title="rdt3.0: channels with errors and loss"></a>rdt3.0: channels with errors and loss</h2><pre><code>underlying channel can also lose packets (data, ACKs)
</code></pre>
<p>假定发送方传输一个数据分组，该分组或 者接收方对该分组的ACK发生了丢失。在这两种情况下，发送方都收不到应当到来的接 收方的响应。如果发送方愿意等待足够长的时间以便确定分组已丢失，则它只需重传该数 据分组即可。你应该相信该协议确实有效。<br>approach:sender waits “reasonable”amount of time for ACK</p>
<ul>
<li>retransmits if no ACK received in this time</li>
<li>if pkt (or ACK) just delayed (not lost):<br>retransmission will be duplicate, but seq. #’s already handles this<br>receiver must specify seq # of pkt being ACKed</li>
<li>requires countdown timer<br>为了实现基于时间的重传机制，需要一个倒计数定时器（countdown timer）,在 一个给定的时间量过期后，可中断发送方。因此，发送方需要能做到：①每次发送一个分 组（包括第一次分组和重传分组）时，便启动一个定时器。②响应定时器中断（采取适 当的动作）。③终止定时器。<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306190226.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306190241.png"
                      alt="alt text"
                ></li>
</ul>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ul>
<li>rdt1.0 assumed no losses or errors</li>
<li>rdt2.0 introduced ACK (ACKnowledgment) and NACK to say a packet had been received or an error occurred.</li>
<li>rdt2.1 introduced the concept of the SEQuencenumber to deal with errors in ACKs.</li>
<li>rdt2.2 introduced the repeated ACK –ACK with repeated sequence number means same as NACK.</li>
<li>rdt3.0 introduced timeout in case packet lost completely not just corrupted.</li>
</ul>
<h2 id="Pipelined-protocols"><a href="#Pipelined-protocols" class="headerlink" title="Pipelined protocols"></a>Pipelined protocols</h2><p>pipelining:sender allows multiple, “in-flight”, yet-to-be-acknowledged packets (packets with no ACK as yet)</p>
<ul>
<li>range of sequence numbers must be increased</li>
<li>buffering at sender and&#x2F;or receiver</li>
<li>two generic forms of pipelined protocols: go-Back-N, selective repeat<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306195922.png"
                      alt="alt text"
                ><br>utilization利用率<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306195935.png"
                      alt="alt text"
                ></li>
</ul>
<h3 id="Go-back-N"><a href="#Go-back-N" class="headerlink" title="Go-back-N:"></a>Go-back-N:</h3><ul>
<li>sender can have up to N unacked packets in pipeline</li>
<li>receiver only sends cumulative ACK<br>  Doesn’t ACK packet if there’s a gap<br>  Doesn’t buffer out of order</li>
<li>sender has timer for oldest unacked packet<br>  when timer expires, retransmit allunacked packets.</li>
</ul>
<p>在回退N步（GBN）协议中，允许发送方发送多个分组（当有多个分组可用时）而<br>不需等待确认，但它也受限于在流水线中未确认的分组数不能超过某个最大允许数N<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/picture/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306201112.png"
                      alt="alt text"
                ><br>如果我们将基序号（base）定义为最早未确认分组的序号，将下一个序号（nextseqnum）定义为最小的未使用序号（即下 一个待发分组的序号），则可将序号范围分割成4段。在[0, base-1]段内的序号对应于已经发送并被确认的分组。[base, nextseqnum-1 ]段内对应已经发送但未被确认的分<br>组。[nextseqnum, base+N-1]段内的序号能用于那些要被立即发送的分组，如果有数据来自上层的话。最后，大于或等于base<br>+N-1的序号是不能使用的，直到当前流水线中未被确认的分组（特别是序号为base的分组）已得到确认为止。<br>N常被称为窗口长度（window size） , GBN协议也常被称为滑动窗口协议 （sliding-window protocol）<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306201112-1.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240306201112.png"
                      alt="alt text"
                ></p>
<h3 id="Selective-Repeat"><a href="#Selective-Repeat" class="headerlink" title="Selective Repeat:"></a>Selective Repeat:</h3><ul>
<li><p>sender can have up to N packets which it has not seen ACK for in “pipeline”</p>
</li>
<li><p>Receiver sends individual ACK for each packet</p>
</li>
<li><p>sender maintains timer for each packet with no ACK<br>when timer expires, retransmit only that unacked packet</p>
</li>
<li><p>receiver individuallyacknowledges all correctly received packets<br>buffers packets, as needed, for eventual in-order delivery to upper layer</p>
</li>
<li><p>sender only resends packets for which ACK not received<br>sender timer for each unACKed packet</p>
</li>
<li><p>sender window<br>Nconsecutive seq #’s<br>limits seq #s of sent, unACKed packets<br>选择重传（SR）协议通过让发送方仅重传那些它怀疑在接收方出错（即丢失或受损）的分组而避免了不必要的重传<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/image.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/image-1.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/image-2.png"
                      alt="alt text"
                ></p>
</li>
</ul>
<h3 id="面向连接的运输：TCP"><a href="#面向连接的运输：TCP" class="headerlink" title="面向连接的运输：TCP"></a>面向连接的运输：TCP</h3><p>TCP被称为是面向连接的（connection.oriented）,这是因为在一个应用进程可以开始 向另一个应用进程发送数据之前，这两个进程必须先相互“握手”，即它们必须相互发送<br>某些预备报文段，以建立确保数据传输的参数。</p>
<ul>
<li><p>point-to-point:one sender, one receiver</p>
</li>
<li><p>reliable, in-order byte steam:no “message boundaries”</p>
</li>
<li><p>pipelined:TCP congestion and flow control set window size</p>
</li>
<li><p>full duplex data:</p>
<p>  bi-directional data flow in same connection</p>
<p>  MSS: maximum segment size</p>
</li>
<li><p>connection-oriented:handshaking (exchange of control msgs) inits sender, receiver state before data exchange</p>
</li>
<li><p>flow controlled:sender will not overwhelm receiver<br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/image-3.png"
                      alt="alt text"
                ><br><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/image-4.png"
                      alt="alt text"
                ></p>
</li>
</ul>
<h1 id="Network-layer"><a href="#Network-layer" class="headerlink" title="Network layer"></a>Network layer</h1><h2 id="Two-key-network-layer-functions"><a href="#Two-key-network-layer-functions" class="headerlink" title="Two key network-layer functions"></a>Two key network-layer functions</h2><h3 id="network-layer-functions"><a href="#network-layer-functions" class="headerlink" title="network-layer functions:"></a>network-layer functions:</h3><ul>
<li>forwarding: move packets from router’s input to appropriate router output</li>
<li>routing: determine route taken by packets from source to destination<br>   routing algorithms</li>
</ul>
<h3 id="analogy-taking-a-trip"><a href="#analogy-taking-a-trip" class="headerlink" title="analogy: taking a trip"></a>analogy: taking a trip</h3><ul>
<li>forwarding: process of getting through one road junction</li>
<li>routing: process of planning trip from source to destination<br>转发(forwarding)是指将分组从一个输入链路接口转移到 适当的输出链路接口的路由器本地动作。转发发生的时间尺度很短(通常为几纳秒)，因 此通常用硬件来实现。<br>路由选择(routing)是指确定分组从源到目的地所采取的端到端路 径的网络范围处理过程。</li>
</ul>
<h3 id="Network-Layer"><a href="#Network-Layer" class="headerlink" title="Network Layer"></a>Network Layer</h3><ul>
<li>transport segment from sending to receiving host</li>
<li>on sending side encapsulates segments into datagrams</li>
<li>on receiving side, delivers segments to transport layer</li>
<li>network layer protocols in every host, router</li>
<li>router examines header fields in all IP datagrams passing through it</li>
</ul>
<h3 id="IPv4-address-notation"><a href="#IPv4-address-notation" class="headerlink" title="IPv4 address notation"></a>IPv4 address notation</h3><p>There are three common notations to show an IPv4 address:<br>• binary notation<br>• dotted-decimal notation (most commonly used)<br>• hexadecimal notation</p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> </li>
        <li><strong>Author:</strong> GIn</li>
        <li><strong>Created at
                :</strong> 2024-03-09 17:57:31</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2024-03-09 17:56:41
            </li>
        
        <li>
            <strong>Link:</strong> https://redefine.ohevan.com/2024/03/09/大二下EBU5213 Internet protocols and networks/
        </li>
        <li>
            <strong>
                License:
            </strong>
            
            This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0</a>.
            

        </li>
    </ul>
</div>

            </div>
        

        

        

        
            <div class="article-nav">
                
                
                    <div class="article-next">
                        <a class="next"
                        rel="next"
                        href="/2023/11/24/The%20introduction%20to%20AI/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item"></span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container">
                <div class="comments-container pjax">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        <i class="fa-solid fa-comments"></i>&nbsp;Comments
    </div>
    

        
            
 
    <div id="waline"></div>
    <script type="module"  data-swup-reload-script>
        import { init } from '/js/libs/waline.mjs';

        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://example.example.com',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
            });
        }

        if ('true') {
            const loadWalineTimeout = setTimeout(() => {
                loadWaline();
                clearTimeout(loadWalineTimeout);
            }, 1000);
        } else {
            window.addEventListener('DOMContentLoaded', loadWaline);
        }
        
    </script>



        
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">On this page</div>
        <div class="page-title"></div>
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%92%8C%E5%9B%A0%E7%89%B9%E7%BD%91"><span class="nav-text">第一章 计算机网络和因特网</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Introduction-of-IP-Networks"><span class="nav-text">Introduction of IP Networks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="nav-text">分组交换</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E9%98%9F%E6%97%B6%E5%BB%B6%E5%92%8C%E5%88%86%E7%BB%84%E4%B8%A2%E5%A4%B1"><span class="nav-text">排队时延和分组丢失</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="nav-text">电路交换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Internet-structure-network-of-networks"><span class="nav-text">Internet structure: network of networks</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2%E7%BD%91%E4%B8%AD%E7%9A%84%E6%97%B6%E5%BB%B6%E6%A6%82%E8%BF%B0"><span class="nav-text">分组交换网中的时延概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%92%E9%98%9F%E6%97%B6%E5%BB%B6%E5%92%8C%E4%B8%A2%E5%8C%85"><span class="nav-text">排队时延和丢包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Why-layering"><span class="nav-text">Why layering?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-IP-model-internet-model"><span class="nav-text">TCP&#x2F;IP model (internet model)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ISO-OSI-reference-model"><span class="nav-text">ISO&#x2F;OSI reference model</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Layering-and-headers"><span class="nav-text">Layering and headers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#TCP-IP-layers"><span class="nav-text">TCP&#x2F;IP layers</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Devices-for-layers"><span class="nav-text">Devices for layers</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Application-Layer"><span class="nav-text">Application Layer</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Sockets-%E5%A5%97%E6%8E%A5%E5%AD%97"><span class="nav-text">Sockets(套接字)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Addressing-processes"><span class="nav-text">Addressing processes</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-different-addresses-in-TCP-IP"><span class="nav-text">4 different addresses in TCP&#x2F;IP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#App-layer-protocol-defines"><span class="nav-text">App-layer protocol defines</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Session-Presentation-layers"><span class="nav-text">Session + Presentation layers</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Transport-Layer"><span class="nav-text">Transport Layer</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Transport-services-and-protocols"><span class="nav-text">Transport services and protocols</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Transport-vs-network-layer"><span class="nav-text">Transport vs. network layer:</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E9%9D%A0%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE%EF%BC%88reliable-data-transfer-protocol"><span class="nav-text">可靠数据传输协议（reliable data transfer protocol)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rdt1-0-reliable-transfer-over-a-reliable-channel"><span class="nav-text">rdt1.0: reliable transfer over a reliable channel</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rdt2-0-channel-with-bit-errors"><span class="nav-text">rdt2.0: channel with bit errors</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#rdt3-0-channels-with-errors-and-loss"><span class="nav-text">rdt3.0: channels with errors and loss</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Summary"><span class="nav-text">Summary</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Pipelined-protocols"><span class="nav-text">Pipelined protocols</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Go-back-N"><span class="nav-text">Go-back-N:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Selective-Repeat"><span class="nav-text">Selective Repeat:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%9D%A2%E5%90%91%E8%BF%9E%E6%8E%A5%E7%9A%84%E8%BF%90%E8%BE%93%EF%BC%9ATCP"><span class="nav-text">面向连接的运输：TCP</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Network-layer"><span class="nav-text">Network layer</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Two-key-network-layer-functions"><span class="nav-text">Two key network-layer functions</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#network-layer-functions"><span class="nav-text">network-layer functions:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#analogy-taking-a-trip"><span class="nav-text">analogy: taking a trip</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Network-Layer"><span class="nav-text">Network Layer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#IPv4-address-notation"><span class="nav-text">IPv4 address notation</span></a></li></ol></li></ol></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2022</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">GIn</a>
        </div>
        
            <script data-swup-reload-script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.5.0</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>





    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>







<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/libs/anime.min.js"></script>

        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
